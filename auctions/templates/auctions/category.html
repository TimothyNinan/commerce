{% extends "auctions/layout.html" %}

{% block body %}
    <h2>Browse Listings by Category</h2>
    <form method="POST" action="/category" style="width:50%">
        {% csrf_token %}
        <div class="form-group">
            Select Category:
            <select name="category" class="form-control" required>
                <option></option>
                <option value="Home">Home and Garden</option>
                <option value="Fashion">Fashion</option>
                <option value="Art">Collectibles and Art</option>
                <option value="Sports">Sporting Goods</option>
                <option value="Electronics">Electronics</option>
                <option value="Toys">Toys and Hobbies</option>
                <option value="Memorabilia">Memorabilia</option>
                <option value="Motors">Motors</option>
                <option value="Books">Literature</option>
                <option value="Music">Music</option>
                <option value="Health">Health and Beauty</option>
            </select>
        </div>
        <div class="form-group">
            <input class="form-control btn btn-outline-dark" type="submit" value="Search">
        </div>
    </form>
    <hr>
    {% if listings != None %}
        {% for listing in listings %}
            <div class="card mb-3" style="max-width: 500px; min-width: 450px; margin:5px;">
                <div class="row no-gutters">
                <div class="col-md-4">
                    <img src="{{ listing.image_url }}" class="card-img" height="180px" alt="Image Not Available">
                </div>
                <div class="col-md-8">
                    <div class="card-body">
                        <h5 class="card-title"><a href="/{{listing.title}}">{{listing.title}}</a></h5>
                        <p class="card-text">{{ listing.description }}</p>
                        <p class="card-text"><b>Current Price: ${{listing.price}}</b></p>
                        <p class="card-text"><small class="text-muted">Created {{ listing.time }}</small></p>
                    </div>
                </div>
                </div>
            </div>
        {% endfor %}
    {% endif %}
{% endblock %}